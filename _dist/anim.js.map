{"version":3,"file":"anim.js","sources":["//enea/squall/work/enea-animjs/src/easing.js","//enea/squall/work/enea-animjs/src/runner.js","//enea/squall/work/enea-animjs/src/defaults.js","//enea/squall/work/enea-animjs/src/utils.js","//enea/squall/work/enea-animjs/src/tween.js","//enea/squall/work/enea-animjs/src/mixins.js","//enea/squall/work/enea-animjs/src/timeline.js","//enea/squall/work/enea-animjs/src/ticker.js","//enea/squall/work/enea-animjs/src/index.js"],"sourcesContent":["/* eslint-disable no-nested-ternary */\n/* eslint-disable no-mixed-operators */\n\nconst PI2 = Math.PI / 2;\n\n/**\n *\n * Easing\n *\n * @export\n * @class Easing\n */\nexport default class Easing\n{\n    /**\n     *\n     * linear\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static linear(t)\n    {\n        return t;\n    }\n\n    /**\n     *\n     * back\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n\n    /**\n     *\n     * backIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static backIn(t)\n    {\n        const s = 1.70158;\n\n        return t * t * ((s + 1) * t - s);\n    }\n\n    /**\n     *\n     * backOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static backOut(t)\n    {\n        const s = 1.70158;\n\n        return --t * t * ((s + 1) * t + s) + 1;\n    }\n\n    /**\n     *\n     * backInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static backInOut(t)\n    {\n        const s = 1.70158 * 1.525;\n\n        if ((t *= 2) < 1)\n        {\n            return 0.5 * (t * t * ((s + 1) * t - s));\n        }\n\n        return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n    }\n\n    /**\n     *\n     * bounceIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static bounceIn(t)\n    {\n        return 1.0 - Easing.bounceOut(1.0 - t);\n    }\n\n    /**\n     *\n     * bounceOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static bounceOut(t)\n    {\n        const a = 4.0 / 11.0;\n        const b = 8.0 / 11.0;\n        const c = 9.0 / 10.0;\n        const ca = 4356.0 / 361.0;\n        const cb = 35442.0 / 1805.0;\n        const cc = 16061.0 / 1805.0;\n        const t2 = t * t;\n\n        return t < a ?\n            7.5625 * t2 :\n            t < b ?\n                9.075 * t2 - 9.9 * t + 3.4 :\n                t < c ?\n                    ca * t2 - cb * t + cc :\n                    10.8 * t * t - 20.52 * t + 10.72;\n    }\n\n    /**\n     *\n     * bounceInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static bounceInOut(t)\n    {\n        return t < 0.5 ?\n            0.5 * (1.0 - Easing.bounceOut(1.0 - t * 2.0)) :\n            0.5 * Easing.bounceOut(t * 2.0 - 1.0) + 0.5;\n    }\n\n    /**\n     *\n     * circIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static circIn(t)\n    {\n        return 1.0 - Math.sqrt(1.0 - t * t);\n    }\n\n    /**\n     *\n     * circOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static circOut(t)\n    {\n        return Math.sqrt(1 - (--t * t));\n    }\n\n    /**\n     *\n     * circInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static circInOut(t)\n    {\n        if ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\n        return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n    }\n\n    /**\n     *\n     * cubicIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static cubicIn(t)\n    {\n        return t * t * t;\n    }\n\n    /**\n     *\n     * cubicOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static cubicOut(t)\n    {\n        const f = t - 1.0;\n\n        return f * f * f + 1.0;\n    }\n\n    /**\n     *\n     * cubicInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static cubicInOut(t)\n    {\n        return t < 0.5 ?\n            4.0 * t * t * t :\n            0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n    }\n\n    /**\n     *\n     * elasticIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static elasticIn(t)\n    {\n        return Math.sin(13.0 * t * PI2) * Math.pow(2.0, 10.0 * (t - 1.0));\n    }\n\n    /**\n     *\n     * elasticOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static elasticOut(t)\n    {\n        return Math.sin(-13.0 * (t + 1.0) * PI2) * Math.pow(2.0, -10.0 * t) + 1.0;\n    }\n\n    /**\n     *\n     * elasticInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static elasticInOut(t)\n    {\n        return t < 0.5 ?\n            0.5 * Math.sin(+13.0 * PI2 * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0)) :\n            0.5 * Math.sin(-13.0 * PI2 * ((2.0 * t - 1.0) + 1.0)) * Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) + 1.0;\n    }\n\n    /**\n     *\n     * expoIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static expoIn(t)\n    {\n        return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n    }\n\n    /**\n     *\n     * expoOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static expoOut(t)\n    {\n        return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n    }\n\n    /**\n     *\n     * expoInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static expoInOut(t)\n    {\n        return (t === 0.0 || t === 1.0) ?\n            t :\n            t < 0.5 ?\n                +0.5 * Math.pow(2.0, (20.0 * t) - 10.0) :\n                -0.5 * Math.pow(2.0, 10.0 - (t * 20.0)) + 1.0;\n    }\n\n    /**\n     *\n     * quadIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quadIn(t)\n    {\n        return t * t;\n    }\n\n    /**\n     *\n     * quadOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quadOut(t)\n    {\n        return -t * (t - 2.0);\n    }\n\n    /**\n     *\n     * quadInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quadInOut(t)\n    {\n        t /= 0.5;\n\n        if (t < 1) return 0.5 * t * t;\n\n        t--;\n\n        return -0.5 * (t * (t - 2) - 1);\n    }\n\n    /**\n     *\n     * quartIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quartIn(t)\n    {\n        return Math.pow(t, 4.0);\n    }\n\n    /**\n     *\n     * quartOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quartOut(t)\n    {\n        return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n    }\n\n    /**\n     *\n     * quartInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quartInOut(t)\n    {\n        return t < 0.5 ?\n            +8.0 * Math.pow(t, 4.0) :\n            -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n    }\n\n    /**\n     *\n     * quintIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quintIn(t)\n    {\n        return t * t * t * t * t;\n    }\n\n    /**\n     *\n     * quintOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quintOut(t)\n    {\n        return --t * t * t * t * t + 1;\n    }\n\n    /**\n     *\n     * quintInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quintInOut(t)\n    {\n        if ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\n        return 0.5 * ((t -= 2) * t * t * t * t + 2);\n    }\n\n    /**\n     *\n     * sineIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static sineIn (t)\n    {\n        const v = Math.cos(t * Math.PI * 0.5);\n\n        if (Math.abs(v) < 1e-14) return 1;\n\n        return 1 - v;\n    }\n\n    /**\n     *\n     * sineOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static sineOut(t)\n    {\n        return Math.sin(t * PI2);\n    }\n\n    /**\n     *\n     * sineInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static sineInOut(t)\n    {\n        return -0.5 * (Math.cos(Math.PI * t) - 1);\n    }\n}\n\nEasing.none = Easing.linear;\n\nEasing.back =\n    {\n        in    : Easing.backIn,\n        out   : Easing.backOut,\n        inOut : Easing.backInOut\n    };\n\nEasing.bounce =\n    {\n        in    : Easing.bounceIn,\n        out   : Easing.bounceOut,\n        inOut : Easing.bounceInOut\n    };\n\nEasing.circ =\n    {\n        in    : Easing.circIn,\n        out   : Easing.circOut,\n        inOut : Easing.circInOut\n    };\n\nEasing.cubic =\n    {\n        in    : Easing.cubicIn,\n        out   : Easing.cubicOut,\n        inOut : Easing.cubicInOut\n    };\n\nEasing.elastic =\n    {\n        in    : Easing.elasticIn,\n        out   : Easing.elasticOut,\n        inOut : Easing.elasticInOut\n    };\n\nEasing.expo =\n    {\n        in    : Easing.expoIn,\n        out   : Easing.expoOut,\n        inOut : Easing.expoInOut\n    };\n\nEasing.quad =\n    {\n        in    : Easing.quadIn,\n        out   : Easing.quadOut,\n        inOut : Easing.quadInOut\n    };\n\nEasing.quart =\n    {\n        in    : Easing.quartIn,\n        out   : Easing.quartOut,\n        inOut : Easing.quartInOut\n    };\n\nEasing.quint =\n    {\n        in    : Easing.quintIn,\n        out   : Easing.quintOut,\n        inOut : Easing.quintInOut\n    };\n\nEasing.sine =\n    {\n        in    : Easing.sineIn,\n        out   : Easing.sineOut,\n        inOut : Easing.sineInOut\n    };\n\n/**\n *\n * getEasing\n *\n * @export\n * @param {string|function} easing\n * @returns {function}\n */\nexport function getEasing(easing)\n{\n    if (typeof easing === 'string' || easing instanceof String)\n    {\n        // eslint-disable-next-line no-prototype-builtins\n        if (Easing.hasOwnProperty(easing))\n        {\n            return Easing[easing];\n        }\n\n        const result = getDeep(Easing, easing);\n\n        if (typeof result === 'function')\n        {\n            return result;\n        }\n\n        // eslint-disable-next-line no-throw-literal\n        throw `Unknown easing: ${easing}`;\n    }\n\n    return easing;\n}\n\n/**\n *\n * getDeep\n *\n * @param {object} obj\n * @param {string} path\n * @returns {object}\n */\nfunction getDeep(obj, path)\n{\n    path = path.replace(/\\[(\\w+)\\]/g, '.$1');\n    path = path.replace(/^\\./, '');\n\n    const tmp = path.split('.');\n\n    for (let i = 0, l = tmp.length; i < l; ++i)\n    {\n        const n = tmp[i];\n\n        if (n in obj)\n        {\n            obj = obj[n];\n        }\n        else\n        {\n            return null;\n        }\n    }\n\n    return obj;\n}\n","/**\n *\n * Runner\n *\n * @export\n * @class Runner\n */\nexport default class Runner\n{\n    /**\n     * Creates an instance of Runner.\n     *\n     * @param {string} name\n     */\n    constructor(name)\n    {\n        this.name = name;\n        this.items = [];\n    }\n\n    /**\n     *\n     * dispatch\n     *\n     * @param {any} argument0\n     * @param {any} argument1\n     * @param {any} argument2\n     */\n    dispatch(argument0, argument1, argument2)\n    {\n        for (let i = 0; i < this.items.length; i++)\n        {\n            this.items[i][this.name](argument0, argument1, argument2);\n        }\n    }\n\n    /**\n     *\n     * add\n     *\n     * @param {object} item\n     * @param {number} index\n     */\n    add(item, index)\n    {\n        if (item[this.name])\n        {\n            this.detach(item);\n\n            if (typeof index === 'undefined')\n            {\n                this.items.push(item);\n            }\n            else\n            {\n                this.items.splice(index, 0, item);\n            }\n        }\n    }\n\n    /**\n     *\n     * detach\n     *\n     * @param {object} item\n     */\n    detach(item)\n    {\n        const index = this.items.indexOf(item);\n\n        if (index !== -1)\n        {\n            this.items.splice(index, 1);\n        }\n    }\n\n    /**\n     *\n     * detachAll\n     *\n     */\n    detachAll()\n    {\n        this.items.length = 0;\n    }\n\n    /**\n     *\n     * destroy\n     *\n     */\n    destroy()\n    {\n        this.detachAll();\n\n        this.name = null;\n        this.items = null;\n    }\n}\n","export const defaults =\n{\n    delay       : 0,\n    duration    : 1,\n    yoyo        : false,\n    repeat      : 0,\n    repeatDelay : 0,\n\n    paused     : false,\n    protected  : false,\n    autoUpdate : true,\n\n    ease: 'none'\n};\n","const str = Object.prototype.toString;\n\n/**\n *\n * getTargets\n *\n * @export\n * @param {object} element\n * @param {object} data\n * @returns {array<object>}\n */\nexport function getTargets(element, data)\n{\n    const result = [];\n\n    for (const key in data)\n    {\n        if (key in element)\n        {\n            const startValue = element[key];\n            const endValue = data[key];\n\n            if (isNumber(startValue) && isNumber(endValue))\n            {\n                result.push([\n                    key,\n                    startValue,\n                    endValue\n                ]);\n            }\n            else if (isArray(startValue) && isArray(endValue))\n            {\n                result.push([\n                    key,\n                    startValue.slice(),\n                    mergeArrays(startValue, endValue)\n                ]);\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n *\n * isNumber\n *\n * @export\n * @param {any} value\n * @returns {boolean}\n */\nexport function isNumber(value)\n{\n    return typeof value === 'number' && isFinite(value);\n}\n\n/**\n *\n * isArray\n *\n * @export\n * @param {any} value\n * @returns {boolean}\n */\nexport function isArray(value)\n{\n    return (value.BYTES_PER_ELEMENT && str.call(value.buffer) === '[object ArrayBuffer]') || Array.isArray(value);\n}\n\n/**\n *\n * mergeArrays\n *\n * @export\n * @param {array} a\n * @param {array} b\n * @returns {array}\n */\nexport function mergeArrays(a, b)\n{\n    const result = a.slice();\n\n    for (let i = 0; i < Math.min(a.length, b.length); i++)\n    {\n        result[i] = b[i];\n    }\n\n    return result;\n}\n\n/**\n *\n * randomString\n *\n * @export\n * @param {number} [length=10]\n * @returns {string}\n */\nexport function randomString(length = 10)\n{\n    let result = '';\n\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n    const charactersLength = characters.length;\n\n    for (let i = 0; i < length; i++)\n    {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n}\n","import Runner from './runner';\nimport { defaults } from './defaults';\nimport { getEasing } from './easing';\nimport { getTargets } from './utils';\n\nconst KEY = 0;\nconst START = 1;\nconst END = 2;\n\n/**\n *\n * Tween\n *\n * @export\n * @class Tween\n */\nexport default class Tween\n{\n    /**\n     * Creates an instance of Tween.\n     *\n     * @param {object} target\n     * @param {object} data\n     * @param {boolean} [ignoreRunners=false]\n     */\n    constructor(target, data = {}, ignoreRunners = false)\n    {\n        this.target = target;\n        this.data = data;\n        this.values = [];\n        this.valuesStored = [];\n        this.active = true;\n        this.cancelling = false;\n        this.paused = data?.paused ?? defaults.paused;\n        this.protected = data?.protected ?? defaults.protected;\n        this.autoUpdate = data?.autoUpdate ?? defaults.autoUpdate;\n        this.started = false;\n        this._isReversed = false;\n\n        this.delay = data?.delay ?? defaults.delay;\n        this.duration = data?.duration ?? defaults.duration;\n        this.repeat = data?.repeat ?? defaults.repeat;\n        this.repeatDelay = data?.repeatDelay ?? defaults.repeatDelay;\n\n        // set repeat to some large number if repeat is set to 'infinite'\n        if (this.repeat < 0)\n        {\n            this.repeat = 1e10;\n        }\n\n        this.time = -this.delay;\n        this.loop = this.repeat;\n\n        this.progress = 0;\n\n        this.totalDuration = ((this.duration * (this.repeat + 1)) + (this.repeat * this.repeatDelay)) + this.delay;\n\n        this.yoyo = data?.yoyo ?? defaults.yoyo;\n        this.ease = getEasing(data?.ease ?? defaults.ease);\n        this.yoyoEase = getEasing(data?.yoyoEase ?? this.ease);\n        this.easing = this.ease;\n\n        // runners\n        this.runnerStart = new Runner('onStart');\n        this.runnerUpdate = new Runner('onUpdate');\n        this.runnerRepeat = new Runner('onRepeat');\n        this.runnerComplete = new Runner('onComplete');\n\n        if (data?.onStart && !ignoreRunners)\n        {\n            this.runnerStart.add(data);\n        }\n\n        if (data?.onUpdate && !ignoreRunners)\n        {\n            this.runnerUpdate.add(data);\n        }\n\n        if (data?.onRepeat && !ignoreRunners)\n        {\n            this.runnerRepeat.add(data);\n        }\n\n        if (data?.onComplete && !ignoreRunners)\n        {\n            this.runnerComplete.add(data);\n        }\n    }\n\n    /**\n     *\n     * copyValues\n     *\n     * @param {boolean} isReversed\n     */\n    copyValues(isReversed)\n    {\n        this.values = [];\n\n        for (let i = 0; i < this.valuesStored.length; i++)\n        {\n            const valueStored = this.valuesStored[i];\n\n            const startValue = isReversed ? valueStored[END] : valueStored[START];\n            const endValue = isReversed ? valueStored[START] : valueStored[END];\n\n            this.values.push([valueStored[KEY], startValue, endValue]);\n        }\n    }\n\n    /**\n      *\n      * setValues\n      *\n      * @param {number} valueKey\n      */\n    setValues(valueKey)\n    {\n        for (let i = 0, j = this.values.length; i < j; i++)\n        {\n            const target = this.values[i];\n\n            const key = target[KEY];\n            const value = target[valueKey];\n\n            if (typeof value === 'number')\n            {\n                this.target[key] = value;\n            }\n            else\n            {\n                for (let k = 0, l = value.length; k < l; k++)\n                {\n                    this.target[key][k] = value[k];\n                }\n            }\n        }\n    }\n\n    /**\n     *\n     * prepare\n     *\n     */\n    prepare()\n    {\n        this.valuesStored = getTargets(this.target, this.data);\n\n        this.copyValues(this._isReversed);\n\n        this.setValues(START);\n    }\n\n    /**\n     *\n     * restart\n     *\n     */\n    restart()\n    {\n        if (this.cancelling)\n        {\n            return;\n        }\n\n        this.time = -this.delay;\n        this.active = true;\n        this.started = false;\n        this.loop = this.repeat;\n\n        this.seek(0);\n    }\n\n    /**\n     *\n     * updateValues\n     *\n     */\n    updateValues()\n    {\n        const alpha = this.easing(this.progress);\n\n        // update object properties\n        for (let i = 0, j = this.values.length; i < j; i++)\n        {\n            const value = this.values[i];\n\n            const key = value[KEY];\n            const start = value[START];\n            const end = value[END];\n\n            if (typeof start === 'number')\n            {\n                this.target[key] = start + ((end - start) * alpha);\n            }\n            else\n            {\n                for (let k = 0, l = end.length; k < l; k++)\n                {\n                    this.target[key][k] = start[k] + ((end[k] - start[k]) * alpha);\n                }\n            }\n        }\n    }\n\n    /**\n     *\n     * updateDirection\n     *\n     * @param {boolean} isReversed\n     */\n    updateDirection(isReversed)\n    {\n        this.copyValues(isReversed);\n\n        this.easing = isReversed ? this.yoyoEase : this.ease;\n    }\n\n    /**\n     *\n     * tick\n     *\n     * @param {number} deltaTime\n     */\n    tick(deltaTime)\n    {\n        if (!this.active || this.paused || this.cancelling)\n        {\n            return;\n        }\n\n        this.time += deltaTime;\n\n        if (this.time < 0)\n        {\n            return;\n        }\n\n        if (!this.started)\n        {\n            this.started = true;\n\n            this.runnerStart.dispatch();\n        }\n\n        this.progress = this.time / this.duration;\n\n        // clamp progress\n        if (this.progress > 1)\n        {\n            this.progress = 1;\n        }\n\n        this.updateValues();\n\n        this.runnerUpdate.dispatch(this.target, this.progress, deltaTime);\n\n        if (this.time >= this.duration)\n        {\n            if (this.loop > 0)\n            {\n                this.loop--;\n\n                this.setValues(END);\n\n                const currentLoop = this.repeat - this.loop;\n\n                this.runnerRepeat.dispatch(currentLoop);\n\n                // direction\n                if (this.yoyo)\n                {\n                    const isReversed = currentLoop % 2 === (this._isReversed ? 0 : 1);\n\n                    this.updateDirection(isReversed);\n                }\n\n                // adjust time for repeat\n                this.time -= this.duration + this.repeatDelay;\n            }\n            else\n            {\n                this.active = false;\n                this.cancelling = true;\n\n                this.setValues(END);\n\n                this.runnerComplete.dispatch();\n            }\n        }\n    }\n\n    /**\n     *\n     * seek\n     *\n     * @param {number} time\n     */\n    seek(time)\n    {\n        time = Math.max(0, Math.min(time, this.totalDuration)) - this.delay;\n\n        let currentLoop = 0;\n\n        while (time > this.duration)\n        {\n            time -= this.duration + this.repeatDelay;\n\n            currentLoop++;\n        }\n\n        // direction\n        if (this.yoyo)\n        {\n            const isReversed = currentLoop % 2 === (this._isReversed ? 0 : 1);\n\n            this.updateDirection(isReversed);\n        }\n\n        // time\n        this.time = time;\n\n        // progress\n        this.progress = time / this.duration;\n\n        const isRepeatDelay = time < 0 && currentLoop !== 0;\n\n        if (!this.yoyo && isRepeatDelay)\n        {\n            this.progress = 1;\n        }\n\n        this.progress = Math.max(0, Math.min(this.progress, 1));\n\n        // update\n        this.updateValues();\n\n        // dispatch update\n        this.runnerUpdate.dispatch(this.target, this.progress, 0);\n    }\n\n    /**\n     *\n     * kill\n     *\n     * @param {boolean} [force=false]\n     */\n    kill(force = false)\n    {\n        if (this.protected && !force)\n        {\n            return;\n        }\n\n        this.cancelling = true;\n    }\n\n    /**\n     *\n     * destroy\n     *\n     */\n    destroy()\n    {\n        this.active = null;\n        this.cancelling = null;\n        this.paused = null;\n        this.protected = null;\n        this.started = null;\n        this.time = null;\n        this._isReversed = null;\n\n        this.delay = null;\n        this.duration = null;\n        this.repeat = null;\n        this.repeatDelay = null;\n        this.totalDuration = null;\n        this.yoyo = null;\n        this.ease = null;\n        this.yoyoEase = null;\n        this.easing = null;\n\n        this.runnerStart.destroy();\n        this.runnerStart = null;\n\n        this.runnerUpdate.destroy();\n        this.runnerUpdate = null;\n\n        this.runnerRepeat.destroy();\n        this.runnerRepeat = null;\n\n        this.runnerComplete.destroy();\n        this.runnerComplete = null;\n    }\n}\n","export const mixins =\n    {\n        /**\n         *\n         * killTweensOf\n         *\n         * @param {object} target\n         * @param {boolean} [force=false]\n         */\n        killTweensOf(target, force = false)\n        {\n            for (let i = 0; i < this.tweens.length; i++)\n            {\n                const tween = this.tweens[i];\n\n                if (tween.target === target)\n                {\n                    tween.kill(force);\n                }\n            }\n        },\n\n        /**\n         *\n         * killAll\n         *\n         * @param {boolean} [force=false]\n         */\n        killAll(force = false)\n        {\n            for (let i = this.tweens.length - 1; i >= 0; i--)\n            {\n                const tween = this.tweens[i];\n\n                tween.kill(force);\n            }\n        }\n    };\n","import Tween from './tween';\nimport { mixins } from './mixins';\nimport { randomString } from './utils';\n\n// eslint-disable-next-line no-empty-function\nconst noop = () => {};\n\n/**\n *\n * Timeline\n *\n * @export\n * @class Timeline\n * @extends {Tween}\n */\nexport default class Timeline extends Tween\n{\n    /**\n     * Creates an instance of Timeline.\n     *\n     * @param {object} [data={}]\n     */\n    constructor(data = {})\n    {\n        // bypass defaults\n        data.duration = 0;\n\n        super({}, data, true);\n\n        this.onTimelineStart = data?.onStart ?? noop;\n        this.onTimelineUpdate = data?.onUpdate ?? noop;\n        this.onTimelineRepeat = data?.onRepeat ?? noop;\n        this.onTimelineComplete = data?.onComplete ?? noop;\n\n        this.runnerStart.add(this);\n        this.runnerUpdate.add(this);\n        this.runnerRepeat.add(this);\n        this.runnerComplete.add(this);\n\n        this.tweens = [];\n        this.groups = new Map();\n        this.activeGroup = 0;\n    }\n\n    /**\n     *\n     * to\n     *\n     * @param {object} target\n     * @param {object} data\n     * @param {string} key\n     * @returns {Tween}\n     */\n    to(target, data, key = randomString())\n    {\n        const tween = new Tween(target, data);\n\n        this.addTween(tween, key);\n\n        return tween;\n    }\n\n    /**\n     *\n     * from\n     *\n     * @param {object} target\n     * @param {object} data\n     * @param {string} key\n     * @returns {Tween}\n     */\n    from(target, data, key = randomString())\n    {\n        const tween = new Tween(target, data);\n\n        tween._isReversed = true;\n\n        this.addTween(tween, key);\n\n        return tween;\n    }\n\n    /**\n     *\n     * fromTo\n     *\n     * @param {object} target\n     * @param {object} [fromData={}]\n     * @param {object} toData\n     * @returns {Tweens}\n     */\n    fromTo(target, fromData = {}, toData)\n    {\n        for (const i in fromData)\n        {\n            target[i] = fromData[i];\n        }\n\n        const tween = new Tween(target, toData);\n\n        tween.prepare();\n\n        this.tweens.push(tween);\n\n        return tween;\n    }\n\n    /**\n     *\n     * seek\n     *\n     */\n    seek()\n    {\n        // TODO\n    }\n\n    /**\n     *\n     * restart\n     *\n     */\n    restart()\n    {\n        // TODO\n    }\n\n    /**\n     *\n     * createGroup\n     *\n     * @param {string} key\n     */\n    createGroup(key)\n    {\n        const data =\n            {\n                duration : 0,\n                tweens   : []\n            };\n\n        this.groups.set(key, data);\n    }\n\n    /**\n     *\n     * addTween\n     *\n     * @param {Tween} tween\n     * @param {string} key\n     */\n    addTween(tween, key)\n    {\n        // create key if it doesn't exist\n        if (!this.groups.has(key))\n        {\n            this.createGroup(key);\n        }\n\n        // group\n        const group = this.groups.get(key);\n\n        group.duration = Math.max(group.duration, tween.totalDuration);\n        group.tweens.push(tween);\n\n        const keyIndex = this.getKeyIndex(key);\n        const isActiveGroup = keyIndex === this.activeGroup;\n\n        if (isActiveGroup)\n        {\n            this.duration = Math.max(this.duration, group.duration);\n\n            tween.prepare();\n\n            this.tweens.push(tween);\n        }\n        else\n        {\n            tween.active = false;\n        }\n\n        // update total duration\n        this.totalDuration = 0;\n\n        this.groups.forEach((value) => { this.totalDuration += value.duration; });\n    }\n\n    /**\n     *\n     * getKeyIndex\n     *\n     * @param {string} key\n     * @returns {number}\n     */\n    getKeyIndex(key)\n    {\n        let result = 0;\n\n        for (const group of this.groups.keys())\n        {\n            if (group === key)\n            {\n                break;\n            }\n\n            result++;\n        }\n\n        return result;\n    }\n\n    /**\n     *\n     * onStart\n     *\n     */\n    onStart()\n    {\n        this.onTimelineStart();\n    }\n\n    /**\n     *\n     * onUpdate\n     *\n     * @param {object} target\n     * @param {number} progress\n     * @param {number} deltaTime\n     */\n    onUpdate(target, progress, deltaTime)\n    {\n        // update children\n        for (let i = 0, j = this.tweens.length; i < j; i++)\n        {\n            const tween = this.tweens[i];\n\n            if (tween.autoUpdate)\n            {\n                tween.tick(deltaTime);\n            }\n        }\n\n        // update callback\n        this.onTimelineUpdate(this.activeGroup, progress);\n    }\n\n    /**\n     *\n     * onRepeat\n     *\n     */\n    onRepeat()\n    {\n        // TODO\n    }\n\n    /**\n     *\n     * setActiveGroup\n     *\n     */\n    setActiveGroup()\n    {\n        const groups = Array.from(this.groups);\n        const group = groups[this.activeGroup][1];\n\n        this.active = true;\n        this.cancelling = false;\n        this.time = 0;\n        this.duration = group.duration;\n        this.delay = 0;\n        this.tweens = group.tweens;\n\n        for (let i = 0; i < this.tweens.length; i++)\n        {\n            const tween = this.tweens[i];\n\n            tween.prepare();\n            tween.active = true;\n        }\n    }\n\n    /**\n     *\n     * onComplete\n     *\n     */\n    onComplete()\n    {\n        this.activeGroup++;\n\n        // complete callback; also when there are no tweens attached\n        if (this.activeGroup >= this.groups.size)\n        {\n            this.onTimelineComplete();\n\n            return;\n        }\n\n        // prepare next group\n        this.setActiveGroup();\n    }\n\n    /**\n     *\n     * kill\n     *\n     * @param {boolean} [force=false]\n     */\n    kill(force = false)\n    {\n        if (this.protected && !force)\n        {\n            return;\n        }\n\n        // kill tweens in all groups\n        let index = 0;\n\n        if (this.groups)\n        {\n            this.groups.forEach((value) =>\n            {\n                let tweens = value.tweens;\n\n                if (index === this.activeGroup)\n                {\n                    return;\n                }\n\n                index++;\n\n                for (let i = 0; i < tweens.length; i++)\n                {\n                    let tween = tweens[i];\n\n                    tween.destroy();\n                    tween = null;\n                }\n\n                tweens = [];\n            });\n\n            this.killAll(true);\n\n            this.groups = null;\n        }\n\n        super.kill();\n    }\n}\n\nObject.assign(Timeline.prototype, mixins);\n","import Timeline from './timeline';\nimport Tween from './tween';\nimport { defaults } from './defaults';\nimport { mixins } from './mixins';\n\n/**\n *\n * Ticker\n *\n * @export\n * @class Ticker\n */\nexport default class Ticker\n{\n    /**\n     * Creates an instance of Ticker.\n     */\n    constructor()\n    {\n        this.tweens = [];\n    }\n\n    /**\n     *\n     * to\n     *\n     * @param {object} target\n     * @param {object} data\n     * @returns {Tween}\n     */\n    to(target, data)\n    {\n        const tween = new Tween(target, data);\n\n        tween.prepare();\n\n        this.tweens.push(tween);\n\n        return tween;\n    }\n\n    /**\n     *\n     * from\n     *\n     * @param {object} target\n     * @param {object} data\n     * @returns {Tween}\n     */\n    from(target, data)\n    {\n        const tween = new Tween(target, data);\n\n        tween._isReversed = true;\n        tween.prepare();\n\n        this.tweens.push(tween);\n\n        return tween;\n    }\n\n    /**\n     *\n     * fromTo\n     *\n     * @param {object} target\n     * @param {object} [fromData={}]\n     * @param {object} toData\n     * @returns {Tweens}\n     */\n    fromTo(target, fromData = {}, toData)\n    {\n        for (const i in fromData)\n        {\n            target[i] = fromData[i];\n        }\n\n        const tween = new Tween(target, toData);\n\n        tween.prepare();\n\n        this.tweens.push(tween);\n\n        return tween;\n    }\n\n    /**\n     *\n     * timeline\n     *\n     * @param {object} target\n     * @param {object} data\n     * @returns {Tween}\n     */\n    timeline(target, data)\n    {\n        const timeline = new Timeline(target, data);\n\n        this.tweens.push(timeline);\n\n        return timeline;\n    }\n\n    /**\n     *\n     * delay\n     *\n     * @param {function} callback\n     * @param {number} duration\n     * @returns {Base|Promise}\n     */\n    delay(callback, duration)\n    {\n        if (typeof callback === 'function')\n        {\n            const data =\n                {\n                    duration   : duration || defaults.duration,\n                    onComplete : callback,\n                    delay      : 0\n                };\n\n            const tween = new Tween({}, data);\n\n            this.tweens.push(tween);\n\n            return tween;\n        }\n\n        return new Promise((resolve) =>\n        {\n            const data =\n                {\n                    duration   : callback || defaults.duration,\n                    onComplete : resolve,\n                    delay      : 0\n                };\n\n            const tween = new Tween({}, data);\n\n            this.tweens.push(tween);\n        });\n    }\n\n    /**\n     *\n     * tick\n     *\n     * @param {number} deltaTime\n     */\n    tick(deltaTime)\n    {\n        for (let i = 0, j = this.tweens.length; i < j; i++)\n        {\n            const tween = this.tweens[i];\n\n            if (tween.autoUpdate)\n            {\n                tween.tick(deltaTime);\n            }\n        }\n\n        // destroy inactive tweens\n        for (let i = this.tweens.length - 1; i >= 0; i--)\n        {\n            let tween = this.tweens[i];\n\n            if (tween.cancelling)\n            {\n                this.tweens.splice(i, 1);\n\n                tween.destroy();\n                tween = null;\n            }\n        }\n    }\n}\n\nObject.assign(Ticker.prototype, mixins);\n","import Easing from './easing';\nimport Ticker from './ticker';\nimport { defaults } from './defaults';\n\nconst ticker = new Ticker();\n\nticker.defaults = defaults;\n\nexport { ticker as anim };\nexport { Easing };\n"],"names":["PI2","Math","PI","Easing","t","s","bounceOut","t2","sqrt","f","pow","sin","v","cos","abs","getEasing","easing","String","hasOwnProperty","result","obj","path","tmp","replace","split","i","l","length","n","getDeep","none","linear","back","backIn","out","backOut","inOut","backInOut","bounce","bounceIn","bounceInOut","circ","circIn","circOut","circInOut","cubic","cubicIn","cubicOut","cubicInOut","elastic","elasticIn","elasticOut","elasticInOut","expo","expoIn","expoOut","expoInOut","quad","quadIn","quadOut","quadInOut","quart","quartIn","quartOut","quartInOut","quint","quintIn","quintOut","quintInOut","sine","sineIn","sineOut","sineInOut","Runner","name","items","argument0","argument1","argument2","this","item","index","detach","push","splice","indexOf","detachAll","defaults","delay","duration","yoyo","repeat","repeatDelay","paused","autoUpdate","ease","str","Object","prototype","toString","isNumber","value","isFinite","isArray","BYTES_PER_ELEMENT","call","buffer","Array","mergeArrays","a","b","slice","min","randomString","characters","charactersLength","charAt","floor","random","Tween","target","data","ignoreRunners","values","valuesStored","active","cancelling","started","_isReversed","time","loop","progress","totalDuration","yoyoEase","runnerStart","runnerUpdate","runnerRepeat","runnerComplete","onStart","add","onUpdate","onRepeat","onComplete","isReversed","valueStored","startValue","endValue","valueKey","j","key","k","element","getTargets","copyValues","setValues","seek","alpha","start","end","deltaTime","dispatch","updateValues","currentLoop","updateDirection","max","isRepeatDelay","force","destroy","mixins","killTweensOf","tweens","tween","kill","killAll","noop","Timeline","onTimelineStart","onTimelineUpdate","onTimelineRepeat","onTimelineComplete","groups","Map","activeGroup","addTween","fromData","toData","prepare","set","has","createGroup","group","get","getKeyIndex","forEach","_this2","keys","tick","from","size","setActiveGroup","_this3","assign","Ticker","timeline","callback","Promise","resolve","_this","ticker"],"mappings":"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"}