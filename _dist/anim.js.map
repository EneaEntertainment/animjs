{"version":3,"file":"anim.js","sources":["//enea/squall/work/enea-animjs/src/easing.js","//enea/squall/work/enea-animjs/src/runner.js","//enea/squall/work/enea-animjs/src/defaults.js","//enea/squall/work/enea-animjs/src/base.js","//enea/squall/work/enea-animjs/src/utils.js","//enea/squall/work/enea-animjs/src/tween.js","//enea/squall/work/enea-animjs/src/mixins.js","//enea/squall/work/enea-animjs/src/timeline.js","//enea/squall/work/enea-animjs/src/ticker.js","//enea/squall/work/enea-animjs/src/index.js"],"sourcesContent":["/* eslint-disable no-nested-ternary */\n/* eslint-disable no-mixed-operators */\n\nconst PI2 = Math.PI / 2;\n\n/**\n *\n * Easing\n *\n * @export\n * @class Easing\n */\nexport default class Easing\n{\n    /**\n     *\n     * linear\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static linear(t)\n    {\n        return t;\n    }\n\n    /**\n     *\n     * back\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n\n    /**\n     *\n     * backIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static backIn(t)\n    {\n        const s = 1.70158;\n\n        return t * t * ((s + 1) * t - s);\n    }\n\n    /**\n     *\n     * backOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static backOut(t)\n    {\n        const s = 1.70158;\n\n        return --t * t * ((s + 1) * t + s) + 1;\n    }\n\n    /**\n     *\n     * backInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static backInOut(t)\n    {\n        const s = 1.70158 * 1.525;\n\n        if ((t *= 2) < 1)\n        {\n            return 0.5 * (t * t * ((s + 1) * t - s));\n        }\n\n        return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n    }\n\n    /**\n     *\n     * bounceIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static bounceIn(t)\n    {\n        return 1.0 - Easing.bounceOut(1.0 - t);\n    }\n\n    /**\n     *\n     * bounceOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static bounceOut(t)\n    {\n        const a = 4.0 / 11.0;\n        const b = 8.0 / 11.0;\n        const c = 9.0 / 10.0;\n        const ca = 4356.0 / 361.0;\n        const cb = 35442.0 / 1805.0;\n        const cc = 16061.0 / 1805.0;\n        const t2 = t * t;\n\n        return t < a ?\n            7.5625 * t2 :\n            t < b ?\n                9.075 * t2 - 9.9 * t + 3.4 :\n                t < c ?\n                    ca * t2 - cb * t + cc :\n                    10.8 * t * t - 20.52 * t + 10.72;\n    }\n\n    /**\n     *\n     * bounceInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static bounceInOut(t)\n    {\n        return t < 0.5 ?\n            0.5 * (1.0 - Easing.bounceOut(1.0 - t * 2.0)) :\n            0.5 * Easing.bounceOut(t * 2.0 - 1.0) + 0.5;\n    }\n\n    /**\n     *\n     * circIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static circIn(t)\n    {\n        return 1.0 - Math.sqrt(1.0 - t * t);\n    }\n\n    /**\n     *\n     * circOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static circOut(t)\n    {\n        return Math.sqrt(1 - (--t * t));\n    }\n\n    /**\n     *\n     * circInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static circInOut(t)\n    {\n        if ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\n        return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n    }\n\n    /**\n     *\n     * cubicIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static cubicIn(t)\n    {\n        return t * t * t;\n    }\n\n    /**\n     *\n     * cubicOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static cubicOut(t)\n    {\n        const f = t - 1.0;\n\n        return f * f * f + 1.0;\n    }\n\n    /**\n     *\n     * cubicInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static cubicInOut(t)\n    {\n        return t < 0.5 ?\n            4.0 * t * t * t :\n            0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n    }\n\n    /**\n     *\n     * elasticIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static elasticIn(t)\n    {\n        return Math.sin(13.0 * t * PI2) * Math.pow(2.0, 10.0 * (t - 1.0));\n    }\n\n    /**\n     *\n     * elasticOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static elasticOut(t)\n    {\n        return Math.sin(-13.0 * (t + 1.0) * PI2) * Math.pow(2.0, -10.0 * t) + 1.0;\n    }\n\n    /**\n     *\n     * elasticInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static elasticInOut(t)\n    {\n        return t < 0.5 ?\n            0.5 * Math.sin(+13.0 * PI2 * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0)) :\n            0.5 * Math.sin(-13.0 * PI2 * ((2.0 * t - 1.0) + 1.0)) * Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) + 1.0;\n    }\n\n    /**\n     *\n     * expoIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static expoIn(t)\n    {\n        return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n    }\n\n    /**\n     *\n     * expoOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static expoOut(t)\n    {\n        return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n    }\n\n    /**\n     *\n     * expoInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static expoInOut(t)\n    {\n        return (t === 0.0 || t === 1.0) ?\n            t :\n            t < 0.5 ?\n                +0.5 * Math.pow(2.0, (20.0 * t) - 10.0) :\n                -0.5 * Math.pow(2.0, 10.0 - (t * 20.0)) + 1.0;\n    }\n\n    /**\n     *\n     * quadIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quadIn(t)\n    {\n        return t * t;\n    }\n\n    /**\n     *\n     * quadOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quadOut(t)\n    {\n        return -t * (t - 2.0);\n    }\n\n    /**\n     *\n     * quadInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quadInOut(t)\n    {\n        t /= 0.5;\n\n        if (t < 1) return 0.5 * t * t;\n\n        t--;\n\n        return -0.5 * (t * (t - 2) - 1);\n    }\n\n    /**\n     *\n     * quartIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quartIn(t)\n    {\n        return Math.pow(t, 4.0);\n    }\n\n    /**\n     *\n     * quartOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quartOut(t)\n    {\n        return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n    }\n\n    /**\n     *\n     * quartInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quartInOut(t)\n    {\n        return t < 0.5 ?\n            +8.0 * Math.pow(t, 4.0) :\n            -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n    }\n\n    /**\n     *\n     * quintIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quintIn(t)\n    {\n        return t * t * t * t * t;\n    }\n\n    /**\n     *\n     * quintOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quintOut(t)\n    {\n        return --t * t * t * t * t + 1;\n    }\n\n    /**\n     *\n     * quintInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static quintInOut(t)\n    {\n        if ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\n        return 0.5 * ((t -= 2) * t * t * t * t + 2);\n    }\n\n    /**\n     *\n     * sineIn\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static sineIn (t)\n    {\n        const v = Math.cos(t * Math.PI * 0.5);\n\n        if (Math.abs(v) < 1e-14) return 1;\n\n        return 1 - v;\n    }\n\n    /**\n     *\n     * sineOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static sineOut(t)\n    {\n        return Math.sin(t * PI2);\n    }\n\n    /**\n     *\n     * sineInOut\n     *\n     * @static\n     * @param {number} t\n     * @returns {number}\n     */\n    static sineInOut(t)\n    {\n        return -0.5 * (Math.cos(Math.PI * t) - 1);\n    }\n}\n\nEasing.none = Easing.linear;\n\nEasing.back =\n    {\n        in    : Easing.backIn,\n        out   : Easing.backOut,\n        inOut : Easing.backInOut\n    };\n\nEasing.bounce =\n    {\n        in    : Easing.bounceIn,\n        out   : Easing.bounceOut,\n        inOut : Easing.bounceInOut\n    };\n\nEasing.circ =\n    {\n        in    : Easing.circIn,\n        out   : Easing.circOut,\n        inOut : Easing.circInOut\n    };\n\nEasing.cubic =\n    {\n        in    : Easing.cubicIn,\n        out   : Easing.cubicOut,\n        inOut : Easing.cubicInOut\n    };\n\nEasing.elastic =\n    {\n        in    : Easing.elasticIn,\n        out   : Easing.elasticOut,\n        inOut : Easing.elasticInOut\n    };\n\nEasing.expo =\n    {\n        in    : Easing.expoIn,\n        out   : Easing.expoOut,\n        inOut : Easing.expoInOut\n    };\n\nEasing.quad =\n    {\n        in    : Easing.quadIn,\n        out   : Easing.quadOut,\n        inOut : Easing.quadInOut\n    };\n\nEasing.quart =\n    {\n        in    : Easing.quartIn,\n        out   : Easing.quartOut,\n        inOut : Easing.quartInOut\n    };\n\nEasing.quint =\n    {\n        in    : Easing.quintIn,\n        out   : Easing.quintOut,\n        inOut : Easing.quintInOut\n    };\n\nEasing.sine =\n    {\n        in    : Easing.sineIn,\n        out   : Easing.sineOut,\n        inOut : Easing.sineInOut\n    };\n\n/**\n *\n * getEasing\n *\n * @export\n * @param {string|function} easing\n * @returns {function}\n */\nexport function getEasing(easing)\n{\n    if (typeof easing === 'string' || easing instanceof String)\n    {\n        // eslint-disable-next-line no-prototype-builtins\n        if (Easing.hasOwnProperty(easing))\n        {\n            return Easing[easing];\n        }\n\n        const result = getDeep(Easing, easing);\n\n        if (typeof result === 'function')\n        {\n            return result;\n        }\n\n        // eslint-disable-next-line no-throw-literal\n        throw `Unknown easing: ${easing}`;\n    }\n\n    return easing;\n}\n\n/**\n *\n * getDeep\n *\n * @param {object} obj\n * @param {string} path\n * @returns {object}\n */\nfunction getDeep(obj, path)\n{\n    path = path.replace(/\\[(\\w+)\\]/g, '.$1');\n    path = path.replace(/^\\./, '');\n\n    const tmp = path.split('.');\n\n    for (let i = 0, l = tmp.length; i < l; ++i)\n    {\n        const n = tmp[i];\n\n        if (n in obj)\n        {\n            obj = obj[n];\n        }\n        else\n        {\n            return null;\n        }\n    }\n\n    return obj;\n}\n","/**\n *\n * Runner\n *\n * @export\n * @class Runner\n */\nexport default class Runner\n{\n    /**\n     * Creates an instance of Runner.\n     *\n     * @param {string} name\n     */\n    constructor(name)\n    {\n        this.name = name;\n        this.items = [];\n    }\n\n    /**\n     *\n     * dispatch\n     *\n     * @param {any} argument0\n     * @param {any} argument1\n     * @param {any} argument2\n     */\n    dispatch(argument0, argument1, argument2)\n    {\n        for (let i = 0; i < this.items.length; i++)\n        {\n            this.items[i][this.name](argument0, argument1, argument2);\n        }\n    }\n\n    /**\n     *\n     * add\n     *\n     * @param {object} item\n     * @param {number} index\n     */\n    add(item, index)\n    {\n        if (item[this.name])\n        {\n            this.detach(item);\n\n            if (typeof index === 'undefined')\n            {\n                this.items.push(item);\n            }\n            else\n            {\n                this.items.splice(index, 0, item);\n            }\n        }\n    }\n\n    /**\n     *\n     * detach\n     *\n     * @param {object} item\n     */\n    detach(item)\n    {\n        const index = this.items.indexOf(item);\n\n        if (index !== -1)\n        {\n            this.items.splice(index, 1);\n        }\n    }\n\n    /**\n     *\n     * detachAll\n     *\n     */\n    detachAll()\n    {\n        this.items.length = 0;\n    }\n\n    /**\n     *\n     * destroy\n     *\n     */\n    destroy()\n    {\n        this.detachAll();\n\n        this.name = null;\n        this.items = null;\n    }\n}\n","export const defaults =\n{\n    delay       : 0,\n    duration    : 1,\n    yoyo        : false,\n    repeat      : 0,\n    repeatDelay : 0,\n\n    paused     : false,\n    protected  : false,\n    autoUpdate : true,\n\n    ease: 'none'\n};\n","import Runner from './runner';\nimport { defaults } from './defaults';\n\n/**\n *\n * Base\n *\n * @export\n * @class Base\n */\nexport default class Base\n{\n    /**\n     * Creates an instance of Base.\n     *\n     * @param {object} data\n     */\n    constructor(data)\n    {\n        this.active = true;\n        this.cancelling = false;\n        this.paused = data?.paused ?? defaults.paused;\n        this.protected = data?.protected ?? defaults.protected;\n        this.autoUpdate = data?.autoUpdate ?? defaults.autoUpdate;\n        this.started = false;\n        this.time = 0;\n        this._isReversed = false;\n\n        this.delay = data?.delay ?? defaults.delay;\n        this.duration = data?.duration ?? defaults.duration;\n        this.repeat = data?.repeat ?? defaults.repeat;\n        this.repeatDelay = data?.repeatDelay ?? defaults.repeatDelay;\n\n        // set repeat to some large number if repeat is set to 'infinite'\n        if (this.repeat < 0)\n        {\n            this.repeat = 1e10;\n        }\n\n        this.loop = this.repeat;\n\n        this.progressDuration = this.duration + this.delay;\n        this.totalDuration = ((this.duration * (this.repeat + 1)) + (this.repeat * this.repeatDelay)) + this.delay;\n\n        // runners\n        this.baseStart = new Runner('onBaseStart');\n        this.baseUpdate = new Runner('onBaseUpdate');\n        this.baseRepeat = new Runner('onBaseRepeat');\n        this.baseDirection = new Runner('onBaseDirection');\n        this.baseComplete = new Runner('onBaseComplete');\n    }\n\n    /**\n     *\n     * restart\n     *\n     */\n    restart()\n    {\n        if (this.cancelling)\n        {\n            return;\n        }\n\n        this.time = 0;\n        this.active = true;\n        this.started = false;\n        this.loop = this.repeat;\n\n        this.seek(0);\n    }\n\n    /**\n     *\n     * tick\n     *\n     * @param {number} deltaTime\n     */\n    tick(deltaTime)\n    {\n        if (!this.active || this.paused || this.cancelling)\n        {\n            return;\n        }\n\n        this.time += deltaTime;\n\n        const elapsedTime = this.time - this.delay;\n\n        let progress = elapsedTime / this.duration;\n\n        if (elapsedTime > 0)\n        {\n            if (!this.started)\n            {\n                this.started = true;\n\n                this.baseStart.dispatch(this);\n            }\n\n            // clamp progress\n            progress = Math.max(0, Math.min(progress, 1));\n\n            // dispatch update\n            this.baseUpdate.dispatch(this, progress, deltaTime);\n        }\n\n        if (this.time >= this.progressDuration)\n        {\n            if (this.loop > 0)\n            {\n                this.loop--;\n\n                const currentLoop = this.repeat - this.loop;\n                const isReversed = currentLoop % 2 === 1;\n\n                // dispatch repeat\n                this.baseRepeat.dispatch(this, currentLoop);\n\n                // dispatch direction\n                this.baseDirection.dispatch(this, isReversed);\n\n                // adjust time for repeat\n                this.time -= this.duration + this.repeatDelay;\n            }\n            else\n            {\n                this.active = false;\n                this.cancelling = true;\n\n                // dispatch complete\n                this.baseComplete.dispatch(this);\n            }\n        }\n    }\n\n    /**\n     *\n     * seek\n     *\n     * @param {number} elapsedTime\n     */\n    seek(elapsedTime)\n    {\n        elapsedTime = Math.max(0, Math.min(elapsedTime, this.totalDuration)) - this.delay;\n\n        let numLoops = 0;\n\n        while (elapsedTime > this.duration)\n        {\n            elapsedTime -= this.duration + this.repeatDelay;\n\n            numLoops++;\n        }\n\n        const isReversed = numLoops % 2 === 1;\n\n        // dispatch direction\n        this.baseDirection.dispatch(this, isReversed);\n\n        // set time\n        this.time = elapsedTime + this.delay;\n\n        let progress = elapsedTime / this.duration;\n\n        const isRepeatDelay = elapsedTime < 0 && numLoops !== 0;\n\n        if (!this.yoyo && isRepeatDelay)\n        {\n            progress = 1;\n        }\n\n        // clamp progress\n        progress = Math.max(0, Math.min(progress, 1));\n\n        // dispatch update\n        this.baseUpdate.dispatch(this, progress, 0);\n    }\n\n    /**\n     *\n     * kill\n     *\n     * @param {boolean} [force=false]\n     */\n    kill(force = false)\n    {\n        if (this.protected && !force)\n        {\n            return;\n        }\n\n        this.cancelling = true;\n    }\n\n    /**\n     *\n     * destroy\n     *\n     */\n    destroy()\n    {\n        this.active = null;\n        this.cancelling = null;\n        this.paused = null;\n        this.protected = null;\n        this.started = null;\n        this.time = null;\n        this._isReversed = null;\n\n        this.delay = null;\n        this.duration = null;\n        this.repeat = null;\n        this.repeatDelay = null;\n\n        this.progressDuration = null;\n        this.totalDuration = null;\n\n        this.baseStart.destroy();\n        this.baseStart = null;\n\n        this.baseUpdate.destroy();\n        this.baseUpdate = null;\n\n        this.baseRepeat.destroy();\n        this.baseRepeat = null;\n\n        this.baseDirection.destroy();\n        this.baseDirection = null;\n\n        this.baseComplete.destroy();\n        this.baseComplete = null;\n    }\n}\n","import Base from './base';\n\nconst propIsEnumerable = Object.prototype.propertyIsEnumerable;\nconst ignores = ownEnumerableKeys(new Base());\nconst str = Object.prototype.toString;\n\n/**\n *\n * ownEnumerableKeys\n *\n * @export\n * @param {object} obj\n * @returns {object}\n */\nexport function ownEnumerableKeys(obj)\n{\n    let keys = Object.getOwnPropertyNames(obj);\n\n    if (Object.getOwnPropertySymbols)\n    {\n        keys = keys.concat(Object.getOwnPropertySymbols(obj));\n    }\n\n    return keys.filter((key) =>\n    {\n        return propIsEnumerable.call(obj, key);\n    });\n}\n\n/**\n *\n * getTargets\n *\n * @export\n * @param {object} element\n * @param {object} data\n * @returns {array<object>}\n */\nexport function getTargets(element, data)\n{\n    const result = [];\n    const dataKeys = ownEnumerableKeys(data);\n\n    for (const key in data)\n    {\n        // copy properties as needed\n        if (dataKeys.indexOf(key) >= 0 && key in element && ignores.indexOf(key) === -1)\n        {\n            const startValue = element[key];\n            const endValue = data[key];\n\n            if (isNumber(startValue) && isNumber(endValue))\n            {\n                result.push({\n                    key   : key,\n                    start : startValue,\n                    end   : endValue\n                });\n            }\n            else if (isArray(startValue) && isArray(endValue))\n            {\n                result.push({\n                    key   : key,\n                    start : startValue.slice(),\n                    end   : mergeArrays(startValue, endValue)\n                });\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n *\n * isNumber\n *\n * @export\n * @param {any} value\n * @returns {boolean}\n */\nexport function isNumber(value)\n{\n    return typeof value === 'number' && isFinite(value);\n}\n\n/**\n *\n * isArray\n *\n * @export\n * @param {any} value\n * @returns {boolean}\n */\nexport function isArray(value)\n{\n    return (value.BYTES_PER_ELEMENT && str.call(value.buffer) === '[object ArrayBuffer]') || Array.isArray(value);\n}\n\n/**\n *\n * mergeArrays\n *\n * @export\n * @param {array} a\n * @param {array} b\n * @returns {array}\n */\nexport function mergeArrays(a, b)\n{\n    const result = a.slice();\n\n    for (let i = 0; i < Math.min(a.length, b.length); i++)\n    {\n        result[i] = b[i];\n    }\n\n    return result;\n}\n\n/**\n *\n * randomString\n *\n * @export\n * @param {number} [length=10]\n * @returns {string}\n */\nexport function randomString(length = 10)\n{\n    let result = '';\n\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n    const charactersLength = characters.length;\n\n    for (let i = 0; i < length; i++)\n    {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n}\n","import { getTargets, isNumber } from './utils';\n\nimport Base from './base';\nimport { defaults } from './defaults';\nimport { getEasing } from './easing';\n\n// eslint-disable-next-line no-empty-function\nconst noop = () => {};\n\n/**\n *\n * Tween\n *\n * @export\n * @class Tween\n * @extends {Base}\n */\nexport default class Tween extends Base\n{\n    /**\n     * Creates an instance of Tween.\n     *\n     * @param {object} target\n     * @param {object} [data={}]\n     */\n    constructor(target, data = {})\n    {\n        super(data);\n\n        this.target = target;\n        this.data = data;\n        this.values = undefined;\n\n        this.yoyo = data?.yoyo ?? defaults.yoyo;\n        this.ease = getEasing(data?.ease ?? defaults.ease);\n        this.yoyoEase = getEasing(data?.yoyoEase ?? this.ease);\n        this.easing = this.ease;\n\n        // callbacks\n        this.onStart = data?.onStart ?? noop;\n        this.onUpdate = data?.onUpdate ?? noop;\n        this.onRepeat = data?.onRepeat ?? noop;\n        this.onComplete = data?.onComplete ?? noop;\n\n        // base runners\n        this.baseStart.add(this);\n        this.baseUpdate.add(this);\n        this.baseRepeat.add(this);\n        this.baseDirection.add(this);\n        this.baseComplete.add(this);\n    }\n\n    /**\n     *\n     * prepare\n     *\n     */\n    prepare()\n    {\n        this.values = getTargets(this.target, this.data);\n\n        if (this._isReversed)\n        {\n            this.setEndValues();\n\n            this.swapValues();\n        }\n\n        // store start value\n        if (this.values.length > 0)\n        {\n            this.values[0].sStart = this.values[0].start;\n        }\n    }\n\n    /**\n     *\n     * onBaseStart\n     *\n     * @param {Base} base\n     */\n    onBaseStart()\n    {\n        // start callback\n        this.onStart();\n    }\n\n    /**\n     *\n     * onBaseUpdate\n     *\n     * @param {Base} base\n     * @param {number} progress\n     * @param {number} deltaTime\n     */\n    onBaseUpdate(base, progress)\n    {\n        const alpha = this.easing(progress);\n\n        // update object properties\n        for (let i = 0, j = this.values.length; i < j; i++)\n        {\n            const value = this.values[i];\n            const key = value.key;\n\n            if (isNumber(value.start))\n            {\n                this.target[key] = (value.start * (1 - alpha)) + (value.end * alpha);\n            }\n            else\n            {\n                for (let k = 0, l = value.end.length; k < l; k++)\n                {\n                    const valueStart = value.start[k];\n                    const valueEnd = value.end[k];\n\n                    this.target[key][k] = (valueStart * (1 - alpha)) + (valueEnd * alpha);\n                }\n            }\n        }\n\n        // update callback\n        this.onUpdate(this.target, progress);\n    }\n\n    /**\n     *\n     * onBaseRepeat\n     *\n     * @param {Base} base\n     * @param {number} currentLoop\n     */\n    onBaseRepeat(base, currentLoop)\n    {\n        this.setEndValues();\n\n        this.onRepeat(currentLoop);\n    }\n\n    /**\n     *\n     * onBaseDirection\n     *\n     * @param {Base} base\n     * @param {boolean} isReversed\n     */\n    onBaseDirection(base, isReversed)\n    {\n        if (!this.yoyo)\n        {\n            return;\n        }\n\n        const start = this.values[0].start;\n        const sStart = this.values[0].sStart;\n\n        // return if direction is correct\n        if (((start === sStart) && !isReversed) || ((start !== sStart) && isReversed))\n        {\n            return;\n        }\n\n        // swap easing functions\n        this.easing = isReversed ? this.yoyoEase : this.ease;\n\n        // swap values\n        this.swapValues();\n    }\n\n    /**\n     *\n     * onBaseComplete\n     *\n     * @param {Base} base\n     */\n    onBaseComplete()\n    {\n        this.setEndValues();\n\n        // complete callback\n        this.onComplete();\n    }\n\n    /**\n     *\n     * swapValues\n     *\n     */\n    swapValues()\n    {\n        for (let i = 0, j = this.values.length; i < j; i++)\n        {\n            const value = this.values[i];\n\n            const tmp = value.start;\n\n            value.start = value.end;\n            value.end = tmp;\n        }\n    }\n\n    /**\n     *\n     * setEndValues\n     *\n     */\n    setEndValues()\n    {\n        for (let i = 0, j = this.values.length; i < j; i++)\n        {\n            const target = this.values[i];\n            const key = target.key;\n\n            this.target[key] = target.end;\n        }\n    }\n\n    /**\n     *\n     * kill\n     *\n     * @param {boolean} [force=false]\n     */\n    kill(force = false)\n    {\n        if (this.protected && !force)\n        {\n            return;\n        }\n\n        this.yoyo = null;\n        this.ease = null;\n        this.yoyoEase = null;\n        this.easing = null;\n\n        this.onStart = null;\n        this.onUpdate = null;\n        this.onRepeat = null;\n        this.onComplete = null;\n\n        super.kill();\n    }\n}\n","export const mixins =\n    {\n        /**\n         *\n         * killTweensOf\n         *\n         * @param {object} target\n         * @param {boolean} [force=false]\n         */\n        killTweensOf(target, force = false)\n        {\n            for (let i = 0; i < this.tweens.length; i++)\n            {\n                const tween = this.tweens[i];\n\n                if (tween.target === target)\n                {\n                    tween.kill(force);\n                }\n            }\n        },\n\n        /**\n         *\n         * killAll\n         *\n         * @param {boolean} [force=false]\n         */\n        killAll(force = false)\n        {\n            for (let i = this.tweens.length - 1; i >= 0; i--)\n            {\n                const tween = this.tweens[i];\n\n                tween.kill(force);\n            }\n        }\n    };\n","import Base from './base';\nimport Tween from './tween';\nimport { mixins } from './mixins';\nimport { randomString } from './utils';\n\n// eslint-disable-next-line no-empty-function\nconst noop = () => {};\n\n/**\n *\n * Timeline\n *\n * @export\n * @class Timeline\n * @extends {Base}\n */\nexport default class Timeline extends Base\n{\n    /**\n     * Creates an instance of Timeline.\n     *\n     * @param {object} [data={}]\n     */\n    constructor(data = {})\n    {\n        // bypass defaults\n        data.duration = 0;\n\n        super(data);\n\n        this.onStart = data?.onStart ?? noop;\n        this.onUpdate = data?.onUpdate ?? noop;\n        this.onComplete = data?.onComplete ?? noop;\n\n        this.tweens = [];\n        this.groups = new Map();\n        this.activeGroup = 0;\n\n        // base runners\n        this.baseStart.add(this);\n        this.baseUpdate.add(this);\n        this.baseComplete.add(this);\n    }\n\n    /**\n     *\n     * to\n     *\n     * @param {object} target\n     * @param {object} data\n     * @param {string} key\n     * @returns {Tween}\n     */\n    to(target, data, key = randomString())\n    {\n        const tween = new Tween(target, data);\n\n        this.addTween(tween, key);\n\n        return tween;\n    }\n\n    /**\n     *\n     * from\n     *\n     * @param {object} target\n     * @param {object} data\n     * @param {string} key\n     * @returns {Tween}\n     */\n    from(target, data, key = randomString())\n    {\n        const tween = new Tween(target, data);\n\n        tween._isReversed = true;\n\n        this.addTween(tween, key);\n\n        return tween;\n    }\n\n    /**\n     *\n     * fromTo\n     *\n     * @param {object} target\n     * @param {object} [fromData={}]\n     * @param {object} toData\n     * @returns {Tweens}\n     */\n    fromTo(target, fromData = {}, toData)\n    {\n        for (const i in fromData)\n        {\n            target[i] = fromData[i];\n        }\n\n        const tween = new Tween(target, toData);\n\n        tween.prepare();\n\n        this.tweens.push(tween);\n\n        return tween;\n    }\n\n    /**\n     *\n     * seek\n     *\n     */\n    seek()\n    {\n        // TODO\n    }\n\n    /**\n     *\n     * restart\n     *\n     */\n    restart()\n    {\n        // TODO\n    }\n\n    /**\n     *\n     * createGroup\n     *\n     * @param {string} key\n     */\n    createGroup(key)\n    {\n        const data =\n            {\n                duration : 0,\n                tweens   : []\n            };\n\n        this.groups.set(key, data);\n    }\n\n    /**\n     *\n     * addTween\n     *\n     * @param {Tween} tween\n     * @param {string} key\n     */\n    addTween(tween, key)\n    {\n        // create key if it doesn't exist\n        if (!this.groups.has(key))\n        {\n            this.createGroup(key);\n        }\n\n        // group\n        const group = this.groups.get(key);\n\n        group.duration = Math.max(group.duration, tween.totalDuration);\n        group.tweens.push(tween);\n\n        const keyIndex = this.getKeyIndex(key);\n        const isActiveGroup = keyIndex === this.activeGroup;\n\n        if (isActiveGroup)\n        {\n            this.duration = Math.max(this.duration, group.duration);\n            this.progressDuration = this.duration + this.delay;\n\n            tween.prepare();\n\n            this.tweens.push(tween);\n        }\n        else\n        {\n            tween.active = false;\n        }\n\n        // update total duration\n        this.totalDuration = 0;\n\n        this.groups.forEach((value) => { this.totalDuration += value.duration; });\n    }\n\n    /**\n     *\n     * getKeyIndex\n     *\n     * @param {string} key\n     * @returns {number}\n     */\n    getKeyIndex(key)\n    {\n        let result = 0;\n\n        for (const group of this.groups.keys())\n        {\n            if (group === key)\n            {\n                break;\n            }\n\n            result++;\n        }\n\n        return result;\n    }\n\n    /**\n     *\n     * onBaseStart\n     *\n     * @param {Base} base\n     */\n    onBaseStart()\n    {\n        // start callback\n        this.onStart();\n    }\n\n    /**\n     *\n     * onBaseUpdate\n     *\n     * @param {Base} base\n     * @param {number} progress\n     * @param {number} deltaTime\n     */\n    onBaseUpdate(base, progress, deltaTime)\n    {\n        // update tweens\n        for (let i = 0, j = this.tweens.length; i < j; i++)\n        {\n            const tween = this.tweens[i];\n\n            tween.tick(deltaTime);\n        }\n\n        // update callback\n        this.onUpdate(this.activeGroup, progress);\n    }\n\n    /**\n     *\n     * setActiveGroup\n     *\n     */\n    setActiveGroup()\n    {\n        const groups = Array.from(this.groups);\n        const group = groups[this.activeGroup][1];\n\n        this.active = true;\n        this.cancelling = false;\n        this.time = 0;\n        this.duration = group.duration;\n        this.delay = 0;\n        this.progressDuration = this.duration;\n        this.tweens = group.tweens;\n\n        for (let i = 0; i < this.tweens.length; i++)\n        {\n            const tween = this.tweens[i];\n\n            tween.prepare();\n            tween.active = true;\n        }\n    }\n\n    /**\n     *\n     * onBaseComplete\n     *\n     * @param {Base} base\n     */\n    onBaseComplete()\n    {\n        this.activeGroup++;\n\n        // complete callback; also when there are no tweens attached\n        if (this.activeGroup >= this.groups.size)\n        {\n            this.onComplete();\n\n            return;\n        }\n\n        // prepare next group\n        this.setActiveGroup();\n    }\n\n    /**\n     *\n     * kill\n     *\n     * @param {boolean} [force=false]\n     */\n    kill(force = false)\n    {\n        if (this.protected && !force)\n        {\n            return;\n        }\n\n        // kill tweens in all groups\n        let index = 0;\n\n        if (this.groups)\n        {\n            this.groups.forEach((value) =>\n            {\n                let tweens = value.tweens;\n\n                if (index === this.activeGroup)\n                {\n                    return;\n                }\n\n                index++;\n\n                for (let i = 0; i < tweens.length; i++)\n                {\n                    let tween = tweens[i];\n\n                    tween.destroy();\n                    tween = null;\n                }\n\n                tweens = [];\n            });\n\n            this.killAll(true);\n\n            this.groups = null;\n        }\n\n        super.kill();\n    }\n}\n\nObject.assign(Timeline.prototype, mixins);\n","import Base from './base';\nimport Timeline from './timeline';\nimport Tween from './tween';\nimport { defaults } from './defaults';\nimport { mixins } from './mixins';\n\n/**\n *\n * Ticker\n *\n * @export\n * @class Ticker\n */\nexport default class Ticker\n{\n    /**\n     * Creates an instance of Ticker.\n     */\n    constructor()\n    {\n        this.tweens = [];\n    }\n\n    /**\n     *\n     * to\n     *\n     * @param {object} target\n     * @param {object} data\n     * @returns {Tween}\n     */\n    to(target, data)\n    {\n        const tween = new Tween(target, data);\n\n        tween.prepare();\n\n        this.tweens.push(tween);\n\n        return tween;\n    }\n\n    /**\n     *\n     * from\n     *\n     * @param {object} target\n     * @param {object} data\n     * @returns {Tween}\n     */\n    from(target, data)\n    {\n        const tween = new Tween(target, data);\n\n        tween._isReversed = true;\n        tween.prepare();\n\n        this.tweens.push(tween);\n\n        return tween;\n    }\n\n    /**\n     *\n     * fromTo\n     *\n     * @param {object} target\n     * @param {object} [fromData={}]\n     * @param {object} toData\n     * @returns {Tweens}\n     */\n    fromTo(target, fromData = {}, toData)\n    {\n        for (const i in fromData)\n        {\n            target[i] = fromData[i];\n        }\n\n        const tween = new Tween(target, toData);\n\n        tween.prepare();\n\n        this.tweens.push(tween);\n\n        return tween;\n    }\n\n    /**\n     *\n     * timeline\n     *\n     * @param {object} target\n     * @param {object} data\n     * @returns {Tween}\n     */\n    timeline(target, data)\n    {\n        const timeline = new Timeline(target, data);\n\n        this.tweens.push(timeline);\n\n        return timeline;\n    }\n\n    /**\n     *\n     * delay\n     *\n     * @param {function} callback\n     * @param {number} duration\n     * @returns {Base|Promise}\n     */\n    delay(callback, duration = callback)\n    {\n        const data =\n            {\n                duration : duration || defaults.duration,\n                delay    : 0\n            };\n\n        const base = new Base(data);\n\n        this.tweens.push(base);\n\n        if (typeof callback === 'function')\n        {\n            base.onBaseComplete = callback;\n            base.baseComplete.add(base);\n\n            return base;\n        }\n\n        return new Promise((resolve) =>\n        {\n            base.onBaseComplete = resolve;\n            base.baseComplete.add(base);\n        });\n    }\n\n    /**\n     *\n     * tick\n     *\n     * @param {number} deltaTime\n     */\n    tick(deltaTime)\n    {\n        for (let i = 0; i < this.tweens.length; i++)\n        {\n            const tween = this.tweens[i];\n\n            if (tween.autoUpdate)\n            {\n                tween.tick(deltaTime);\n            }\n        }\n\n        // destroy inactive tweens\n        for (let i = this.tweens.length - 1; i >= 0; i--)\n        {\n            let tween = this.tweens[i];\n\n            if (tween.cancelling)\n            {\n                this.tweens.splice(i, 1);\n\n                tween.destroy();\n                tween = null;\n            }\n        }\n    }\n}\n\nObject.assign(Ticker.prototype, mixins);\n","import Easing from './easing';\nimport Ticker from './ticker';\nimport { defaults } from './defaults';\n\nconst ticker = new Ticker();\n\nticker.defaults = defaults;\n\nexport { ticker as anim };\nexport { Easing };\n"],"names":["PI2","Math","PI","Easing","t","s","bounceOut","t2","sqrt","f","pow","sin","v","cos","abs","getEasing","easing","String","hasOwnProperty","result","obj","path","tmp","replace","split","i","l","length","n","getDeep","none","linear","back","backIn","out","backOut","inOut","backInOut","bounce","bounceIn","bounceInOut","circ","circIn","circOut","circInOut","cubic","cubicIn","cubicOut","cubicInOut","elastic","elasticIn","elasticOut","elasticInOut","expo","expoIn","expoOut","expoInOut","quad","quadIn","quadOut","quadInOut","quart","quartIn","quartOut","quartInOut","quint","quintIn","quintOut","quintInOut","sine","sineIn","sineOut","sineInOut","Runner","name","items","argument0","argument1","argument2","this","item","index","detach","push","splice","indexOf","detachAll","defaults","delay","duration","yoyo","repeat","repeatDelay","paused","autoUpdate","ease","Base","data","active","cancelling","started","time","_isReversed","loop","progressDuration","totalDuration","baseStart","baseUpdate","baseRepeat","baseDirection","baseComplete","seek","deltaTime","elapsedTime","progress","dispatch","max","min","currentLoop","isReversed","numLoops","isRepeatDelay","force","destroy","propIsEnumerable","Object","prototype","propertyIsEnumerable","ignores","ownEnumerableKeys","str","toString","keys","getOwnPropertyNames","getOwnPropertySymbols","concat","filter","key","call","isNumber","value","isFinite","isArray","BYTES_PER_ELEMENT","buffer","Array","mergeArrays","a","b","slice","randomString","characters","charactersLength","charAt","floor","random","noop","Tween","target","values","undefined","yoyoEase","_this","onStart","onUpdate","onRepeat","onComplete","add","element","dataKeys","startValue","endValue","start","end","getTargets","setEndValues","swapValues","sStart","base","alpha","j","k","valueStart","valueEnd","mixins","killTweensOf","tweens","tween","kill","killAll","Timeline","groups","Map","activeGroup","addTween","fromData","toData","prepare","set","has","createGroup","group","get","getKeyIndex","forEach","_this2","tick","from","size","setActiveGroup","_this3","assign","Ticker","timeline","callback","onBaseComplete","Promise","resolve","ticker"],"mappings":"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"}